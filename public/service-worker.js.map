{"version":3,"sources":["service-worker.js"],"names":["showNotification","title","body","icon","data","notificationOptions","tag","self","registration","Notification","importScripts","addEventListener","event","message","url","waitUntil","clients","openWindow"],"mappings":"AAAA,YAKA,SAAAA,kBAAAC,EAAAC,EAAAC,EAAAC,GACA,GAAAC,IACAH,KAAAA,EACAC,KAAAA,EAAAA,EAAA,6CACAG,IAAA,qBACAF,KAAAA,EAEA,OAAAG,MAAAC,aAAAR,qBACAO,MAAAC,aAAAR,iBAAAC,EAAAI,OAGA,IAAAI,cAAAR,EAAAI,GAdAK,cAAA,sBAmBAH,KAAAI,iBAAA,OAAA,SAAAC,GAEA,GAAAX,GAAA,kBACAY,EAAA,4BAEAb,kBAAAC,EAAAY,KAIAN,KAAAI,iBAAA,oBAAA,SAAAC,GACA,GAAAE,GAAA,4BACAF,GAAAG,UAAAC,QAAAC,WAAAH","file":"service-worker.js","sourcesContent":["'use strict';\n\nimportScripts('/indexdbwrapper.js');\n\n// Affiche une notification\nfunction showNotification(title, body, icon, data) {\n    var notificationOptions = {\n        body: body,\n        icon: icon ? icon : 'images/touch/chrome-touch-icon-192x192.png',\n        tag: 'chat-bouchardm-com',\n        data: data\n    };\n    if (self.registration.showNotification) {\n        self.registration.showNotification(title, notificationOptions);\n        return;\n    } else {\n        new Notification(title, notificationOptions);\n    }\n}\n\n// Gestion de l'envoie de notifivation Ã  partir de serveur\nself.addEventListener('push', function(event) {\n    // on va allez chercher le dernier message puis l'afficher\n    var title = 'Nouveau message';\n    var message = 'Un beau et nouveau message';\n\n    showNotification(title, message);\n});\n\n// Click on the notification\nself.addEventListener('notificationclick', function(event) {\n    var url = \"https://chat.bouchardm.com\";\n    event.waitUntil(clients.openWindow(url));\n});"],"sourceRoot":"/source/"}